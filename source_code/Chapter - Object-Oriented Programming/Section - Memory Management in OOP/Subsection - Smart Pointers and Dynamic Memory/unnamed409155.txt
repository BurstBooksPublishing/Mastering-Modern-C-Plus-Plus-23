#include <cstdio>
#include <memory>
#include <iostream>

struct FileDeleter {
    void operator()(std::FILE* f) const noexcept {
        if (f) std::fclose(f);
    }
};

int main() {
    std::unique_ptr<std::FILE, FileDeleter> fp{std::fopen("example.txt", "r")};
    if (!fp) {
        std::cerr << "Failed to open file\n";
        return 1;
    }
    std::cout << "File opened successfully\n";
    return 0;
}