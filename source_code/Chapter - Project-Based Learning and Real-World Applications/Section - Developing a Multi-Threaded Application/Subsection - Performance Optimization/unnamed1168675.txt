#include <vector>
#include <algorithm>
#include <execution>
#include <numeric>
#include <iostream>

int main() {
    constexpr std::size_t kSize = 1'000'000;
    std::vector<int> data(kSize, 1);

    // Parallel transform: multiply every element by 2
    std::transform(std::execution::par_unseq,
                   data.begin(), data.end(),
                   data.begin(),
                   [](int n) { return n * 2; });

    // Verify correctness by summing the vector
    const long long sum = std::reduce(std::execution::par_unseq,
                                      data.begin(), data.end(), 0LL);
    std::cout << (sum == 2LL * kSize ? "OK" : "FAIL") << '\n';
    return 0;
}