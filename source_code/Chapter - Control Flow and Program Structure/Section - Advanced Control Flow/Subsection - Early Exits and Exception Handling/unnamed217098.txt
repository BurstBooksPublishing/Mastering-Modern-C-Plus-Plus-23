#include <fstream>
#include <string>
#include <stdexcept>

std::string read_file(const std::string& filename) {
    std::ifstream file(filename, std::ios::binary | std::ios::ate);
    if (!file)
        throw std::runtime_error("Unable to open file: " + filename);

    const auto size = file.tellg();
    if (size == -1)
        throw std::runtime_error("Unable to determine file size: " + filename);

    std::string content;
    content.resize(static_cast<size_t>(size));

    file.seekg(0);
    file.read(content.data(), size);

    if (!file)
        throw std::runtime_error("Error while reading file: " + filename);

    return content;
}